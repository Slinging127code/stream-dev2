学习Oracle  建立数据库 建立表 
了解 行专列 列专行
CREATE TABLE student_scores (
student_id NUMBER,
subject VARCHAR2(20),
score NUMBER
);

INSERT INTO student_scores VALUES (1, '数学', 90);
INSERT INTO student_scores VALUES (1, '语文', 85);
INSERT INTO student_scores VALUES (1, '英语', 92);
INSERT INTO student_scores VALUES (2, '数学', 78);
INSERT INTO student_scores VALUES (2, '语文', 88);
INSERT INTO student_scores VALUES (2, '英语', 80);
COMMIT;

select * from student_scores;
/**
列转行（Unpivot）
*/
SELECT
student_id,
MAX(CASE WHEN subject = '数学' THEN score END) AS "数学",
MAX(CASE WHEN subject = '语文' THEN score END) AS "语文",
MAX(CASE WHEN subject = '英语' THEN score END) AS "英语"
FROM student_scores
GROUP BY student_id;

CREATE TABLE student_scores_pivot (
student_id NUMBER,
"数学" NUMBER,
"语文" NUMBER,
"英语" NUMBER
);

INSERT INTO student_scores_pivot VALUES (1, 90, 85, 92);
INSERT INTO student_scores_pivot VALUES (2, 78, 88, 80);
COMMIT;

/**
标准 SQL（UNION ALL）
列转行（Unpivot）
*/
SELECT
student_id,
'数学' AS subject,
"数学" AS score
FROM student_scores_pivot
UNION ALL
SELECT
student_id,
'语文' AS subject,
"语文" AS score
FROM student_scores_pivot
UNION ALL
SELECT
student_id,
'英语' AS subject,
"英语" AS score
FROM student_scores_pivot;
/*
Oracle UNPIVOT 语法（11g+）
*/
SELECT *
FROM student_scores_pivot
UNPIVOT (
score FOR subject IN ("数学", "语文", "英语")
);


